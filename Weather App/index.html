<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather Dashboard - Modern Weather App</title>
    <style>
        /* ===================== ROOT & GLOBAL STYLES ===================== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-dark: #0f172e;
            --secondary-dark: #1a2847;
            --accent-blue: #00d4ff;
            --accent-purple: #7b5ee8;
            --text-primary: #ffffff;
            --text-secondary: #a0aec0;
            --border-color: rgba(255, 255, 255, 0.1);
            --shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            --glow: 0 0 20px rgba(0, 212, 255, 0.3);
        }

        html, body {
            height: 100%;
            width: 100%;
            overflow: hidden;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0f172e 0%, #1a2847 50%, #0a1929 100%);
            color: var(--text-primary);
            letter-spacing: 0.5px;
        }

        /* ===================== CONTAINER LAYOUT ===================== */
        .container {
            display: flex;
            height: 100vh;
            width: 100%;
            gap: 0;
        }

        /* ===================== SIDEBAR NAVIGATION ===================== */
        .sidebar {
            width: 250px;
            background: rgba(26, 40, 71, 0.7);
            backdrop-filter: blur(10px);
            border-right: 1px solid var(--border-color);
            padding: 30px 0;
            display: flex;
            flex-direction: column;
            gap: 20px;
            overflow-y: auto;
            transition: all 0.3s ease;
        }

        .sidebar-logo {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 0 25px;
            margin-bottom: 20px;
            font-size: 24px;
            font-weight: 700;
            background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .sidebar-logo::before {
            content: '‚õÖ';
            font-size: 28px;
        }

        .sidebar-nav {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .nav-item {
            padding: 15px 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            color: var(--text-secondary);
            border-left: 3px solid transparent;
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 15px;
        }

        .nav-item:hover {
            background: rgba(0, 212, 255, 0.1);
            color: var(--accent-blue);
            border-left-color: var(--accent-blue);
            text-shadow: 0 0 10px rgba(0, 212, 255, 0.5);
        }

        .nav-item.active {
            background: rgba(0, 212, 255, 0.15);
            color: var(--accent-blue);
            border-left-color: var(--accent-blue);
            box-shadow: inset 0 0 20px rgba(0, 212, 255, 0.1);
        }

        .nav-icon {
            font-size: 18px;
        }

        /* ===================== MAIN CONTENT AREA ===================== */
        .main-content {
            flex: 1;
            overflow-y: auto;
            padding: 30px;
            display: flex;
            flex-direction: column;
            gap: 25px;
        }

        /* ===================== TOP SEARCH BAR ===================== */
        .search-container {
            display: flex;
            gap: 12px;
            margin-bottom: 20px;
        }

        .search-box {
            flex: 1;
            max-width: 450px;
            display: flex;
            gap: 10px;
            backdrop-filter: blur(10px);
            background: rgba(26, 40, 71, 0.5);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 12px 18px;
            transition: all 0.3s ease;
        }

        .search-box:focus-within {
            background: rgba(26, 40, 71, 0.7);
            border-color: var(--accent-blue);
            box-shadow: var(--glow);
        }

        .search-input {
            flex: 1;
            background: transparent;
            border: none;
            color: var(--text-primary);
            font-size: 14px;
            outline: none;
        }

        .search-input::placeholder {
            color: var(--text-secondary);
        }

        .search-btn {
            background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple));
            border: none;
            color: var(--text-primary);
            width: 40px;
            height: 40px;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            transition: all 0.3s ease;
            box-shadow: var(--glow);
        }

        .search-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 0 30px rgba(0, 212, 255, 0.6);
        }

        .search-btn:active {
            transform: scale(0.95);
        }

        /* ===================== WEATHER GRID LAYOUT ===================== */
        .weather-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            flex: 1;
            min-height: 0;
        }

        /* ===================== ANIMATED WEATHER BACKGROUND ===================== */
        .weather-animation-section {
            grid-column: 1 / 2;
            grid-row: 1 / 3;
            background: linear-gradient(135deg, #1a2847, #0f172e);
            border: 1px solid var(--border-color);
            border-radius: 20px;
            overflow: hidden;
            position: relative;
            box-shadow: var(--shadow);
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 400px;
            backdrop-filter: blur(10px);
        }

        /* Animation canvas for weather effects */
        #weatherCanvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        /* ===================== WEATHER INFO CARD ===================== */
        .weather-info {
            grid-column: 2 / 3;
            grid-row: 1 / 2;
            background: rgba(26, 40, 71, 0.4);
            border: 1px solid var(--border-color);
            border-radius: 20px;
            padding: 30px;
            backdrop-filter: blur(10px);
            box-shadow: var(--shadow);
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .city-header {
            display: flex;
            align-items: flex-start;
            justify-content: space-between;
        }

        .city-info h1 {
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .weather-desc {
            color: var(--text-secondary);
            font-size: 14px;
            text-transform: capitalize;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .weather-icon {
            font-size: 24px;
        }

        .weather-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            padding-top: 15px;
            border-top: 1px solid var(--border-color);
        }

        .detail-item {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .detail-label {
            color: var(--text-secondary);
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 0.8px;
        }

        .detail-value {
            font-size: 18px;
            font-weight: 600;
            color: var(--accent-blue);
        }

        /* ===================== CURRENT CONDITIONS ===================== */
        .current-conditions {
            grid-column: 2 / 3;
            grid-row: 2 / 3;
            background: rgba(26, 40, 71, 0.4);
            border: 1px solid var(--border-color);
            border-radius: 20px;
            padding: 25px;
            backdrop-filter: blur(10px);
            box-shadow: var(--shadow);
        }

        .section-title {
            font-size: 16px;
            font-weight: 700;
            margin-bottom: 15px;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--accent-blue);
        }

        .condition-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }

        .condition-card {
            background: rgba(0, 212, 255, 0.05);
            border: 1px solid rgba(0, 212, 255, 0.2);
            border-radius: 12px;
            padding: 12px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .condition-card:hover {
            background: rgba(0, 212, 255, 0.1);
            border-color: var(--accent-blue);
            transform: translateY(-2px);
        }

        .condition-name {
            color: var(--text-secondary);
            font-size: 12px;
            margin-bottom: 5px;
        }

        .condition-value {
            color: var(--accent-blue);
            font-size: 16px;
            font-weight: 600;
        }

        /* ===================== FORECAST SECTIONS ===================== */
        .forecast-section {
            grid-column: 1 / 3;
            background: rgba(26, 40, 71, 0.4);
            border: 1px solid var(--border-color);
            border-radius: 20px;
            padding: 25px;
            backdrop-filter: blur(10px);
            box-shadow: var(--shadow);
        }

        .forecast-container {
            display: flex;
            gap: 12px;
            overflow-x: auto;
            padding-right: 10px;
        }

        .forecast-item {
            flex-shrink: 0;
            width: 120px;
            background: rgba(0, 212, 255, 0.05);
            border: 1px solid rgba(0, 212, 255, 0.2);
            border-radius: 12px;
            padding: 15px;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .forecast-item:hover {
            background: rgba(0, 212, 255, 0.1);
            border-color: var(--accent-blue);
            transform: translateY(-5px);
            box-shadow: var(--glow);
        }

        .forecast-time {
            color: var(--text-secondary);
            font-size: 12px;
            margin-bottom: 8px;
        }

        .forecast-icon {
            font-size: 28px;
            margin-bottom: 8px;
        }

        .forecast-temp {
            color: var(--accent-blue);
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .forecast-desc {
            color: var(--text-secondary);
            font-size: 11px;
            text-transform: capitalize;
        }

        /* ===================== LOADING & ERROR STATES ===================== */
        .loading {
            text-align: center;
            padding: 40px;
            color: var(--text-secondary);
        }

        .error-message {
            background: rgba(255, 76, 76, 0.1);
            border: 1px solid rgba(255, 76, 76, 0.3);
            color: #ff6b6b;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        /* ===================== SCROLLBAR STYLING ===================== */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: transparent;
        }

        ::-webkit-scrollbar-thumb {
            background: rgba(0, 212, 255, 0.3);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: rgba(0, 212, 255, 0.5);
        }

        /* ===================== RESPONSIVE DESIGN ===================== */
        @media (max-width: 1024px) {
            .weather-container {
                grid-template-columns: 1fr;
            }

            .weather-animation-section {
                grid-column: 1;
                grid-row: 1;
                min-height: 300px;
            }

            .weather-info {
                grid-column: 1;
                grid-row: 2;
            }

            .current-conditions {
                grid-column: 1;
                grid-row: 3;
            }

            .forecast-section {
                grid-column: 1;
                grid-row: 4;
            }
        }

        @media (max-width: 768px) {
            .container {
                flex-direction: column;
            }

            .sidebar {
                width: 100%;
                max-height: 80px;
                flex-direction: row;
                align-items: center;
                padding: 15px 20px;
                border-right: none;
                border-bottom: 1px solid var(--border-color);
                overflow-x: auto;
            }

            .sidebar-logo {
                margin-bottom: 0;
                flex-shrink: 0;
            }

            .sidebar-nav {
                flex-direction: row;
                gap: 5px;
                flex: 1;
            }

            .nav-item {
                padding: 10px 15px;
                font-size: 13px;
                white-space: nowrap;
            }

            .main-content {
                padding: 20px;
                gap: 15px;
            }

            .search-box {
                max-width: 100%;
            }

            .weather-container {
                gap: 15px;
            }

            .weather-animation-section {
                min-height: 250px;
            }

            .weather-details {
                grid-template-columns: repeat(2, 1fr);
            }

            .forecast-container {
                flex-wrap: wrap;
            }

            .forecast-item {
                width: calc(50% - 6px);
            }
        }

        @media (max-width: 480px) {
            .main-content {
                padding: 15px;
            }

            .sidebar {
                padding: 12px 15px;
            }

            .nav-item {
                padding: 8px 10px;
                font-size: 12px;
                gap: 8px;
            }

            .weather-info {
                padding: 20px;
            }

            .city-info h1 {
                font-size: 24px;
            }

            .weather-details {
                grid-template-columns: repeat(2, 1fr);
                gap: 10px;
            }

            .forecast-item {
                width: calc(50% - 6px);
            }
        }

        /* ===================== ANIMATIONS ===================== */
        @keyframes float {
            0%, 100% {
                transform: translateY(0px);
            }
            50% {
                transform: translateY(-20px);
            }
        }

        @keyframes glow {
            0%, 100% {
                box-shadow: 0 0 20px rgba(0, 212, 255, 0.5);
            }
            50% {
                box-shadow: 0 0 40px rgba(0, 212, 255, 0.8);
            }
        }

        .glow-effect {
            animation: glow 3s ease-in-out infinite;
        }

        /* ===================== SECTION VISIBILITY CONTROL ===================== */
        .section {
            display: none;
        }

        .section.active {
            display: flex;
            flex-direction: column;
            gap: 25px;
        }

        /* ===================== SECTION CONTENT STYLING ===================== */
        .section-content {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .section-header {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 10px;
            background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .section-description {
            color: var(--text-secondary);
            font-size: 14px;
            margin-bottom: 20px;
        }

        .info-card {
            background: rgba(26, 40, 71, 0.4);
            border: 1px solid var(--border-color);
            border-radius: 20px;
            padding: 25px;
            backdrop-filter: blur(10px);
            box-shadow: var(--shadow);
        }

        .info-card h3 {
            color: var(--accent-blue);
            font-size: 16px;
            margin-bottom: 12px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .info-card p {
            line-height: 1.6;
            color: var(--text-secondary);
            margin-bottom: 10px;
        }

        .info-card p:last-child {
            margin-bottom: 0;
        }

        .feature-list {
            list-style: none;
            display: grid;
            grid-template-columns: 1fr;
            gap: 12px;
        }

        .feature-list li {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            background: rgba(0, 212, 255, 0.05);
            border-left: 3px solid var(--accent-blue);
            border-radius: 8px;
        }

        .feature-list li::before {
            content: '‚úì';
            color: var(--accent-blue);
            font-weight: bold;
            font-size: 16px;
        }

        .location-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
        }

        .location-card {
            background: rgba(0, 212, 255, 0.05);
            border: 1px solid rgba(0, 212, 255, 0.2);
            border-radius: 12px;
            padding: 15px;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .location-card:hover {
            background: rgba(0, 212, 255, 0.1);
            border-color: var(--accent-blue);
            transform: translateY(-5px);
        }

        .location-card-title {
            color: var(--accent-blue);
            font-weight: 600;
            margin-bottom: 5px;
        }

        .location-card-coord {
            color: var(--text-secondary);
            font-size: 12px;
        }

        .settings-group {
            background: rgba(26, 40, 71, 0.4);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 15px;
        }

        .settings-group h4 {
            color: var(--accent-blue);
            margin-bottom: 15px;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 0.8px;
        }

        .setting-option {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 12px;
            padding: 10px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .setting-option:last-child {
            margin-bottom: 0;
            border-bottom: none;
        }

        .setting-label {
            display: flex;
            flex-direction: column;
            gap: 3px;
        }

        .setting-name {
            color: var(--text-primary);
            font-weight: 500;
        }

        .setting-desc {
            color: var(--text-secondary);
            font-size: 12px;
        }

        .toggle-switch {
            position: relative;
            width: 50px;
            height: 26px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 13px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .toggle-switch.active {
            background: var(--accent-blue);
        }

        .toggle-switch::after {
            content: '';
            position: absolute;
            width: 22px;
            height: 22px;
            background: white;
            border-radius: 50%;
            top: 2px;
            left: 2px;
            transition: all 0.3s ease;
        }

        .toggle-switch.active::after {
            left: 26px;
        }

        @media (max-width: 768px) {
            .section-header {
                font-size: 22px;
            }

            .location-list {
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- SIDEBAR NAVIGATION -->
        <aside class="sidebar">
            <div class="sidebar-logo">Weather</div>
            <nav class="sidebar-nav">
                <div class="nav-item active" onclick="switchTab('dashboard')">
                    <span class="nav-icon">üìä</span>
                    <span>Dashboard</span>
                </div>
                <div class="nav-item" onclick="switchTab('manage-locations')">
                    <span class="nav-icon">üìç</span>
                    <span>Manage Locations</span>
                </div>
                <div class="nav-item" onclick="switchTab('settings')">
                    <span class="nav-icon">‚öôÔ∏è</span>
                    <span>Settings</span>
                </div>
                <div class="nav-item" onclick="switchTab('privacy')">
                    <span class="nav-icon">üîí</span>
                    <span>Privacy</span>
                </div>
                <div class="nav-item" onclick="switchTab('about')">
                    <span class="nav-icon">‚ÑπÔ∏è</span>
                    <span>About</span>
                </div>
            </nav>
        </aside>

        <!-- MAIN CONTENT -->
        <main class="main-content">
            <!-- SEARCH BAR (Dashboard only) -->
            <div class="search-container" id="searchContainer">
                <div class="search-box">
                    <input 
                        type="text" 
                        class="search-input" 
                        id="searchInput" 
                        placeholder="Search cities..."
                        onkeypress="handleSearchKeypress(event)"
                    >
                    <button class="search-btn" onclick="searchWeather()">üîç</button>
                </div>
            </div>

            <!-- ============ DASHBOARD SECTION ============ -->
            <section id="dashboard" class="section active">
                <div id="weatherContent">
                    <div class="weather-container">
                        <!-- ANIMATED WEATHER BACKGROUND -->
                        <div class="weather-animation-section">
                            <canvas id="weatherCanvas"></canvas>
                        </div>

                        <!-- WEATHER INFO CARD -->
                        <div class="weather-info">
                            <div class="city-header">
                                <div class="city-info">
                                    <h1 id="cityName">‚Äî</h1>
                                    <div class="weather-desc">
                                        <span class="weather-icon" id="weatherIcon">üå§Ô∏è</span>
                                        <span id="weatherDescription">‚Äî</span>
                                    </div>
                                </div>
                            </div>
                            <div class="weather-details">
                                <div class="detail-item">
                                    <span class="detail-label">Feels Like</span>
                                    <span class="detail-value" id="feelsLike">‚Äî</span>
                                </div>
                                <div class="detail-item">
                                    <span class="detail-label">Humidity</span>
                                    <span class="detail-value" id="humidity">‚Äî</span>
                                </div>
                                <div class="detail-item">
                                    <span class="detail-label">Wind Speed</span>
                                    <span class="detail-value" id="windSpeed">‚Äî</span>
                                </div>
                                <div class="detail-item">
                                    <span class="detail-label">Pressure</span>
                                    <span class="detail-value" id="pressure">‚Äî</span>
                                </div>
                            </div>
                        </div>

                        <!-- CURRENT CONDITIONS -->
                        <div class="current-conditions">
                            <h3 class="section-title">Current Conditions</h3>
                            <div class="condition-grid">
                                <div class="condition-card">
                                    <div class="condition-name">Temperature</div>
                                    <div class="condition-value" id="tempCard">‚Äî</div>
                                </div>
                                <div class="condition-card">
                                    <div class="condition-name">UV Index</div>
                                    <div class="condition-value" id="uvIndex">‚Äî</div>
                                </div>
                                <div class="condition-card">
                                    <div class="condition-name">Visibility</div>
                                    <div class="condition-value" id="visibility">‚Äî</div>
                                </div>
                                <div class="condition-card">
                                    <div class="condition-name">Dew Point</div>
                                    <div class="condition-value" id="dewPoint">‚Äî</div>
                                </div>
                            </div>
                        </div>

                        <!-- HOURLY FORECAST -->
                        <div class="forecast-section" style="grid-column: 1 / 3;">
                            <h3 class="section-title">Hourly Forecast</h3>
                            <div id="hourlyForecast" class="forecast-container">
                                <div class="loading">Loading hourly forecast...</div>
                            </div>
                        </div>

                        <!-- DAILY FORECAST -->
                        <div class="forecast-section" style="grid-column: 1 / 3;">
                            <h3 class="section-title">Daily Forecast</h3>
                            <div id="dailyForecast" class="forecast-container">
                                <div class="loading">Loading daily forecast...</div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- ============ MANAGE LOCATIONS SECTION ============ -->
            <section id="manage-locations" class="section">
                <div class="section-content">
                    <div>
                        <h2 class="section-header">Manage Locations</h2>
                        <p class="section-description">Save and manage your favorite cities for quick access</p>
                    </div>

                    <!-- Add New Location -->
                    <div class="info-card">
                        <h3>Add New Location</h3>
                        <div style="display: flex; gap: 10px; margin-top: 15px;">
                            <input 
                                type="text" 
                                id="newLocationInput" 
                                placeholder="Enter city name..."
                                style="flex: 1; padding: 10px 15px; background: rgba(0, 212, 255, 0.1); border: 1px solid var(--border-color); border-radius: 8px; color: var(--text-primary); font-size: 14px;"
                                onkeypress="handleLocationKeypress(event)"
                            >
                            <button 
                                onclick="addLocation()" 
                                style="padding: 10px 20px; background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple)); border: none; border-radius: 8px; color: white; cursor: pointer; font-weight: 600; transition: all 0.3s ease;"
                                onmouseover="this.style.transform='scale(1.05)'"
                                onmouseout="this.style.transform='scale(1)'"
                            >
                                Add Location
                            </button>
                        </div>
                    </div>

                    <!-- Saved Locations -->
                    <div class="info-card">
                        <h3>Your Saved Locations</h3>
                        <div id="savedLocations" class="location-list">
                            <div style="grid-column: 1 / -1; padding: 20px; text-align: center; color: var(--text-secondary);">
                                No locations saved yet. Add your first location above!
                            </div>
                        </div>
                    </div>

                    <!-- Quick Access -->
                    <div class="info-card">
                        <h3>Popular Cities</h3>
                        <div class="location-list">
                            <div class="location-card" onclick="searchCityByName('New York')">
                                <div class="location-card-title">New York</div>
                                <div class="location-card-coord">USA</div>
                            </div>
                            <div class="location-card" onclick="searchCityByName('Tokyo')">
                                <div class="location-card-title">Tokyo</div>
                                <div class="location-card-coord">Japan</div>
                            </div>
                            <div class="location-card" onclick="searchCityByName('London')">
                                <div class="location-card-title">London</div>
                                <div class="location-card-coord">UK</div>
                            </div>
                            <div class="location-card" onclick="searchCityByName('Paris')">
                                <div class="location-card-title">Paris</div>
                                <div class="location-card-coord">France</div>
                            </div>
                            <div class="location-card" onclick="searchCityByName('Sydney')">
                                <div class="location-card-title">Sydney</div>
                                <div class="location-card-coord">Australia</div>
                            </div>
                            <div class="location-card" onclick="searchCityByName('Dubai')">
                                <div class="location-card-title">Dubai</div>
                                <div class="location-card-coord">UAE</div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- ============ SETTINGS SECTION ============ -->
            <section id="settings" class="section">
                <div class="section-content">
                    <div>
                        <h2 class="section-header">Settings</h2>
                        <p class="section-description">Customize your weather dashboard experience</p>
                    </div>

                    <!-- Display Settings -->
                    <div class="settings-group">
                        <h4>Display Settings</h4>
                        <div class="setting-option">
                            <div class="setting-label">
                                <span class="setting-name">Dark Mode</span>
                                <span class="setting-desc">Enable dark theme (currently always enabled)</span>
                            </div>
                            <div class="toggle-switch active" onclick="toggleSetting(this)"></div>
                        </div>
                        <div class="setting-option">
                            <div class="setting-label">
                                <span class="setting-name">Animations</span>
                                <span class="setting-desc">Enable weather background animations</span>
                            </div>
                            <div class="toggle-switch active" onclick="toggleSetting(this)"></div>
                        </div>
                        <div class="setting-option">
                            <div class="setting-label">
                                <span class="setting-name">Glassmorphism Effects</span>
                                <span class="setting-desc">Show blur and transparency effects</span>
                            </div>
                            <div class="toggle-switch active" onclick="toggleSetting(this)"></div>
                        </div>
                    </div>

                    <!-- Temperature Settings -->
                    <div class="settings-group">
                        <h4>Temperature Units</h4>
                        <div class="setting-option">
                            <div class="setting-label">
                                <span class="setting-name">Celsius (¬∞C)</span>
                                <span class="setting-desc">Display temperature in Celsius</span>
                            </div>
                            <div class="toggle-switch active" onclick="toggleSetting(this)"></div>
                        </div>
                        <div class="setting-option">
                            <div class="setting-label">
                                <span class="setting-name">Wind Speed (m/s)</span>
                                <span class="setting-desc">Display wind speed in meters per second</span>
                            </div>
                            <div class="toggle-switch active" onclick="toggleSetting(this)"></div>
                        </div>
                    </div>

                    <!-- Notification Settings -->
                    <div class="settings-group">
                        <h4>Notifications</h4>
                        <div class="setting-option">
                            <div class="setting-label">
                                <span class="setting-name">Weather Alerts</span>
                                <span class="setting-desc">Get notified about severe weather</span>
                            </div>
                            <div class="toggle-switch" onclick="toggleSetting(this)"></div>
                        </div>
                        <div class="setting-option">
                            <div class="setting-label">
                                <span class="setting-name">Daily Forecast</span>
                                <span class="setting-desc">Receive daily weather summaries</span>
                            </div>
                            <div class="toggle-switch" onclick="toggleSetting(this)"></div>
                        </div>
                    </div>

                    <!-- Reset Settings -->
                    <div class="info-card">
                        <h3>Reset Settings</h3>
                        <p>Reset all settings to their default values</p>
                        <button style="margin-top: 15px; padding: 10px 20px; background: rgba(255, 76, 76, 0.2); border: 1px solid rgba(255, 76, 76, 0.3); color: #ff6b6b; border-radius: 8px; cursor: pointer; font-weight: 600; transition: all 0.3s ease;" 
                            onmouseover="this.style.background='rgba(255, 76, 76, 0.3)'"
                            onmouseout="this.style.background='rgba(255, 76, 76, 0.2)'"
                            onclick="resetSettings()">
                            Reset to Defaults
                        </button>
                    </div>
                </div>
            </section>

            <!-- ============ PRIVACY SECTION ============ -->
            <section id="privacy" class="section">
                <div class="section-content">
                    <div>
                        <h2 class="section-header">Privacy Policy</h2>
                        <p class="section-description">How we protect your data and privacy</p>
                    </div>

                    <!-- Data Collection -->
                    <div class="info-card">
                        <h3>Data Collection</h3>
                        <p>This Weather Dashboard application respects your privacy:</p>
                        <ul class="feature-list">
                            <li>No personal data is collected or stored on external servers</li>
                            <li>Search history is stored locally in your browser only</li>
                            <li>Weather data is fetched from OpenWeatherMap API</li>
                            <li>Your location searches are not tracked or shared</li>
                        </ul>
                    </div>

                    <!-- Data Storage -->
                    <div class="info-card">
                        <h3>Local Storage</h3>
                        <p>The following information is stored locally on your device:</p>
                        <ul class="feature-list">
                            <li>Saved locations and favorites</li>
                            <li>User preferences and settings</li>
                            <li>Recent search history</li>
                            <li>Theme and display preferences</li>
                        </ul>
                    </div>

                    <!-- Third-Party Services -->
                    <div class="info-card">
                        <h3>Third-Party Services</h3>
                        <p>We use the following external services:</p>
                        <ul class="feature-list">
                            <li>OpenWeatherMap API for weather data (subject to their privacy policy)</li>
                            <li>No analytics or tracking services are used</li>
                            <li>No advertising networks or cookies</li>
                            <li>All connections are secured with HTTPS</li>
                        </ul>
                    </div>

                    <!-- Your Rights -->
                    <div class="info-card">
                        <h3>Your Rights</h3>
                        <p>You have full control over your data:</p>
                        <ul class="feature-list">
                            <li>Delete your local data anytime by clearing browser storage</li>
                            <li>No account creation required</li>
                            <li>No email or personal information needed</li>
                            <li>Use the app completely anonymously</li>
                        </ul>
                    </div>

                    <!-- Contact -->
                    <div class="info-card">
                        <h3>Questions?</h3>
                        <p>If you have any questions about our privacy practices, please contact us through the application support channels.</p>
                        <p style="margin-top: 10px; font-size: 13px; color: var(--text-secondary);">Last updated: February 2026</p>
                    </div>
                </div>
            </section>

            <!-- ============ ABOUT SECTION ============ -->
            <section id="about" class="section">
                <div class="section-content">
                    <div>
                        <h2 class="section-header">About Weather Dashboard</h2>
                        <p class="section-description">Modern, responsive weather application built with pure web technologies</p>
                    </div>

                    <!-- Overview -->
                    <div class="info-card">
                        <h3>Project Overview</h3>
                        <p>Weather Dashboard is a modern, sleek weather application built entirely with HTML, CSS, and JavaScript. No frameworks, no dependencies‚Äîjust pure web technology combined with beautiful design.</p>
                    </div>

                    <!-- Features -->
                    <div class="info-card">
                        <h3>Key Features</h3>
                        <ul class="feature-list">
                            <li>Real-time weather data from OpenWeatherMap API</li>
                            <li>Animated weather background matching current conditions</li>
                            <li>Dynamic hourly and daily forecasts</li>
                            <li>Search for any city worldwide</li>
                            <li>Save and manage favorite locations</li>
                            <li>Responsive design (desktop, tablet, mobile)</li>
                            <li>Dark theme with glassmorphism effects</li>
                            <li>Smooth CSS animations and transitions</li>
                        </ul>
                    </div>

                    <!-- Technology Stack -->
                    <div class="info-card">
                        <h3>Technology Stack</h3>
                        <ul class="feature-list">
                            <li>HTML5 for semantic markup</li>
                            <li>CSS3 for styling and animations</li>
                            <li>Vanilla JavaScript (ES6+) for functionality</li>
                            <li>HTML5 Canvas for weather animations</li>
                            <li>Fetch API for HTTP requests</li>
                            <li>LocalStorage API for data persistence</li>
                        </ul>
                    </div>

                    <!-- Weather Animations -->
                    <div class="info-card">
                        <h3>Weather Animations</h3>
                        <p>The dashboard features dynamic canvas-based animations that change based on weather conditions:</p>
                        <ul class="feature-list">
                            <li>‚òÄÔ∏è Sunny: Glowing sun with rotating rays</li>
                            <li>‚òÅÔ∏è Cloudy: Floating clouds animation</li>
                            <li>üåßÔ∏è Rainy: Falling rain particles</li>
                            <li>‚ùÑÔ∏è Snowy: Falling snowflakes effect</li>
                            <li>üåô Clear: Starfield background</li>
                        </ul>
                    </div>

                    <!-- Version Info -->
                    <div class="info-card">
                        <h3>Version Information</h3>
                        <p><strong>Weather Dashboard v1.0</strong></p>
                        <p>Release Date: February 2026</p>
                        <p>Built with ‚ù§Ô∏è for weather enthusiasts and developers</p>
                    </div>

                    <!-- Credits -->
                    <div class="info-card">
                        <h3>Credits & Attribution</h3>
                        <p>This application uses weather data from <strong>OpenWeatherMap</strong></p>
                        <p>Design and development: Modern Weather Dashboard Project</p>
                        <p style="margin-top: 10px; font-size: 13px; color: var(--text-secondary);">Built purely with HTML, CSS, and JavaScript</p>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script>
        // ===================== CONFIGURATION =====================
        const API_KEY = 'ed89e6c32082105fcf853598c78fc0d4'; // Free OpenWeatherMap API key
        const BASE_URL = 'https://api.openweathermap.org/data/2.5';

        // ===================== STATE MANAGEMENT =====================
        let currentWeatherData = null;
        let forecastData = null;
        let animationFrameId = null;
        let weatherCondition = 'clear';
        let savedLocations = [];

        // ===================== INITIALIZATION =====================
        document.addEventListener('DOMContentLoaded', () => {
            // Load saved locations from localStorage
            loadSavedLocations();
            
            // Set default city (London)
            searchCityByName('London');
            
            // Initialize canvas for weather animations
            initCanvas();
            
            // Set dashboard as active by default
            switchTab('dashboard');
        });

        // ===================== NAVIGATION SYSTEM =====================
        /**
         * Switch between sections/modules
         * @param {string} tabName - The ID of the section to show (dashboard, manage-locations, settings, privacy, about)
         */
        function switchTab(tabName) {
            // Hide all sections
            const allSections = document.querySelectorAll('.section');
            allSections.forEach(section => {
                section.classList.remove('active');
            });

            // Show the selected section
            const selectedSection = document.getElementById(tabName);
            if (selectedSection) {
                selectedSection.classList.add('active');
            }

            // Update active nav item styling
            const navItems = document.querySelectorAll('.nav-item');
            navItems.forEach(item => {
                item.classList.remove('active');
            });

            // Find and activate the corresponding nav item
            const activeNavItem = Array.from(navItems).find(item => {
                const text = item.textContent.toLowerCase();
                return text.includes(tabName.replace('-', ' '));
            });

            if (activeNavItem) {
                activeNavItem.classList.add('active');
            }

            // Show/hide search bar based on active section
            const searchContainer = document.getElementById('searchContainer');
            if (tabName === 'dashboard' && searchContainer) {
                searchContainer.style.display = 'flex';
            } else if (searchContainer) {
                searchContainer.style.display = 'none';
            }

            console.log('Switched to:', tabName);
        }

        // ===================== CANVAS SETUP =====================
        const canvas = document.getElementById('weatherCanvas');
        const ctx = canvas.getContext('2d');

        function resizeCanvas() {
            const rect = canvas.parentElement.getBoundingClientRect();
            canvas.width = rect.width;
            canvas.height = rect.height;
        }

        function initCanvas() {
            resizeCanvas();
            window.addEventListener('resize', resizeCanvas);
            animateWeather();
        }

        // ===================== WEATHER ANIMATIONS =====================
        /**
         * Main animation loop for weather background
         */
        function animateWeather() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            switch(weatherCondition) {
                case 'rain':
                    drawRain();
                    break;
                case 'clouds':
                    drawClouds();
                    break;
                case 'snow':
                    drawSnow();
                    break;
                case 'sun':
                    drawSun();
                    break;
                default:
                    drawClear();
            }

            animationFrameId = requestAnimationFrame(animateWeather);
        }

        // Rain animation with falling particles
        function drawRain() {
            ctx.fillStyle = 'rgba(200, 220, 255, 0.3)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            ctx.strokeStyle = 'rgba(150, 180, 255, 0.6)';
            ctx.lineWidth = 2;

            const time = Date.now() / 100;
            for (let i = 0; i < 100; i++) {
                const x = (Math.sin(i) * canvas.width + (time * 50)) % canvas.width;
                const y = ((i * canvas.height / 100) + (time * 80)) % canvas.height;

                ctx.beginPath();
                ctx.moveTo(x, y);
                ctx.lineTo(x - 5, y + 15);
                ctx.stroke();
            }
        }

        // Cloud animation with floating movement
        function drawClouds() {
            ctx.fillStyle = 'rgba(100, 150, 200, 0.2)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            const time = Date.now() / 5000;

            // Draw multiple floating clouds
            for (let i = 0; i < 3; i++) {
                drawCloud(
                    (canvas.width * (0.3 + i * 0.35) + time * 30) % canvas.width,
                    canvas.height * (0.2 + i * 0.2),
                    80 + i * 20
                );
            }
        }

        // Helper function to draw a single cloud
        function drawCloud(x, y, size) {
            ctx.fillStyle = 'rgba(200, 220, 255, 0.5)';
            ctx.beginPath();
            ctx.arc(x - size / 2, y, size / 3, 0, Math.PI * 2);
            ctx.arc(x, y, size / 2.5, 0, Math.PI * 2);
            ctx.arc(x + size / 2, y, size / 3, 0, Math.PI * 2);
            ctx.fill();
        }

        // Snow animation with falling snowflakes
        function drawSnow() {
            ctx.fillStyle = 'rgba(200, 220, 255, 0.2)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            ctx.fillStyle = 'rgba(255, 255, 255, 0.8)';
            const time = Date.now() / 100;

            for (let i = 0; i < 100; i++) {
                const x = (Math.sin(i) * canvas.width + (time * 15)) % canvas.width;
                const y = ((i * canvas.height / 100) + (time * 30)) % canvas.height;

                ctx.beginPath();
                ctx.arc(x, y, 3, 0, Math.PI * 2);
                ctx.fill();
            }
        }

        // Sun animation with rotating rays
        function drawSun() {
            const gradient = ctx.createLinearGradient(0, 0, canvas.width, canvas.height);
            gradient.addColorStop(0, 'rgba(255, 200, 100, 0.2)');
            gradient.addColorStop(0.5, 'rgba(255, 150, 50, 0.15)');
            gradient.addColorStop(1, 'rgba(100, 150, 200, 0.2)');

            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // Draw sun positioned at 70% width, 30% height
            const sunX = canvas.width * 0.7;
            const sunY = canvas.height * 0.3;
            const sunRadius = 60;

            // Glow effect around sun
            const glowGradient = ctx.createRadialGradient(sunX, sunY, 0, sunX, sunY, sunRadius + 40);
            glowGradient.addColorStop(0, 'rgba(255, 200, 0, 0.3)');
            glowGradient.addColorStop(1, 'rgba(255, 150, 0, 0)');

            ctx.fillStyle = glowGradient;
            ctx.fillRect(sunX - sunRadius - 40, sunY - sunRadius - 40, (sunRadius + 40) * 2, (sunRadius + 40) * 2);

            // Sun circle
            ctx.fillStyle = 'rgba(255, 200, 0, 0.9)';
            ctx.beginPath();
            ctx.arc(sunX, sunY, sunRadius, 0, Math.PI * 2);
            ctx.fill();

            // Rotating sun rays
            ctx.strokeStyle = 'rgba(255, 200, 0, 0.6)';
            ctx.lineWidth = 4;
            for (let i = 0; i < 8; i++) {
                const angle = (i * Math.PI / 4) + (Date.now() / 10000);
                const startX = sunX + Math.cos(angle) * sunRadius;
                const startY = sunY + Math.sin(angle) * sunRadius;
                const endX = sunX + Math.cos(angle) * (sunRadius + 30);
                const endY = sunY + Math.sin(angle) * (sunRadius + 30);

                ctx.beginPath();
                ctx.moveTo(startX, startY);
                ctx.lineTo(endX, endY);
                ctx.stroke();
            }
        }

        // Clear sky with starfield
        function drawClear() {
            const gradient = ctx.createLinearGradient(0, 0, canvas.width, canvas.height);
            gradient.addColorStop(0, 'rgba(100, 150, 200, 0.3)');
            gradient.addColorStop(1, 'rgba(50, 100, 150, 0.3)');

            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // Draw stars
            ctx.fillStyle = 'rgba(255, 255, 255, 0.6)';
            for (let i = 0; i < 50; i++) {
                const x = (Math.sin(i * 12.9898) * canvas.width / 2 + canvas.width / 2);
                const y = (Math.cos(i * 78.233) * canvas.height / 2 + canvas.height / 2);
                const size = Math.sin(i) * 1.5 + 1;
                ctx.fillRect(x, y, size, size);
            }
        }

        // ===================== WEATHER API CALLS =====================
        /**
         * Search weather for user input
         */
        async function searchWeather() {
            const input = document.getElementById('searchInput').value.trim();
            if (!input) {
                alert('Please enter a city name');
                return;
            }
            searchCityByName(input);
        }

        /**
         * Handle Enter key press in search input
         */
        function handleSearchKeypress(event) {
            if (event.key === 'Enter') {
                searchWeather();
            }
        }

        /**
         * Fetch weather data for a city and update UI
         * @param {string} cityName - City name to search for
         */
        async function searchCityByName(cityName) {
            try {
                // Fetch current weather
                const weatherResponse = await fetch(
                    `${BASE_URL}/weather?q=${cityName}&appid=${API_KEY}&units=metric`
                );

                if (!weatherResponse.ok) {
                    if (weatherResponse.status === 404) {
                        alert('City not found. Please try another search.');
                    } else {
                        alert('Error fetching weather data. Please try again.');
                    }
                    return;
                }

                currentWeatherData = await weatherResponse.json();

                // Fetch forecast data using coordinates from weather data
                const forecastResponse = await fetch(
                    `${BASE_URL}/forecast?lat=${currentWeatherData.coord.lat}&lon=${currentWeatherData.coord.lon}&appid=${API_KEY}&units=metric`
                );

                forecastData = await forecastResponse.json();

                // Update UI with new data
                updateWeatherUI();
                updateForecast();
                updateWeatherAnimation();

                // Clear search input
                document.getElementById('searchInput').value = '';
            } catch (error) {
                console.error('Error fetching weather:', error);
                alert('Failed to fetch weather data. Please check your connection.');
            }
        }

        // ===================== UI UPDATE FUNCTIONS =====================
        /**
         * Update weather information display
         */
        function updateWeatherUI() {
            if (!currentWeatherData) return;

            const { name, main, weather, wind, clouds, sys } = currentWeatherData;

            // Update city name and weather condition
            document.getElementById('cityName').textContent = name;
            document.getElementById('weatherDescription').textContent = weather[0].main;
            document.getElementById('weatherIcon').textContent = getWeatherIcon(weather[0].main);

            // Update weather details section
            document.getElementById('feelsLike').textContent = `${Math.round(main.feels_like)}¬∞C`;
            document.getElementById('humidity').textContent = `${main.humidity}%`;
            document.getElementById('windSpeed').textContent = `${Math.round(wind.speed)} m/s`;
            document.getElementById('pressure').textContent = `${main.pressure} hPa`;

            // Update current condition cards
            document.getElementById('tempCard').textContent = `${Math.round(main.temp)}¬∞C`;
            document.getElementById('visibility').textContent = `${(currentWeatherData.visibility / 1000).toFixed(1)} km`;
            document.getElementById('dewPoint').textContent = `${Math.round(main.temp - ((100 - main.humidity) / 5))}¬∞C`;
            document.getElementById('uvIndex').textContent = 'N/A'; // Requires separate API call for UV index
        }

        /**
         * Update hourly and daily forecast display
         */
        function updateForecast() {
            if (!forecastData) return;

            // ===== HOURLY FORECAST (next 8 hours) =====
            const hourlyContainer = document.getElementById('hourlyForecast');
            hourlyContainer.innerHTML = '';

            const hourlyItems = forecastData.list.slice(0, 8);
            hourlyItems.forEach(item => {
                const date = new Date(item.dt * 1000);
                const hour = date.getHours();
                const forecastItem = document.createElement('div');
                forecastItem.className = 'forecast-item';
                forecastItem.innerHTML = `
                    <div class="forecast-time">${hour.toString().padStart(2, '0')}:00</div>
                    <div class="forecast-icon">${getWeatherIcon(item.weather[0].main)}</div>
                    <div class="forecast-temp">${Math.round(item.main.temp)}¬∞C</div>
                    <div class="forecast-desc">${item.weather[0].main}</div>
                `;
                hourlyContainer.appendChild(forecastItem);
            });

            // ===== DAILY FORECAST (8 days) =====
            const dailyContainer = document.getElementById('dailyForecast');
            dailyContainer.innerHTML = '';

            // Group forecast data by day
            const dailyMap = {};
            forecastData.list.forEach(item => {
                const date = new Date(item.dt * 1000).toLocaleDateString();
                if (!dailyMap[date]) {
                    dailyMap[date] = [];
                }
                dailyMap[date].push(item);
            });

            // Create daily forecast cards
            Object.keys(dailyMap).slice(0, 8).forEach(date => {
                const dayData = dailyMap[date];
                const avgTemp = Math.round(dayData.reduce((sum, d) => sum + d.main.temp, 0) / dayData.length);
                const mainWeather = dayData[Math.floor(dayData.length / 2)].weather[0].main;

                const dateObj = new Date(date);
                const dayName = dateObj.toLocaleDateString('en-US', { weekday: 'short' });

                const forecastItem = document.createElement('div');
                forecastItem.className = 'forecast-item';
                forecastItem.innerHTML = `
                    <div class="forecast-time">${dayName}</div>
                    <div class="forecast-icon">${getWeatherIcon(mainWeather)}</div>
                    <div class="forecast-temp">${avgTemp}¬∞C</div>
                    <div class="forecast-desc">${mainWeather}</div>
                `;
                dailyContainer.appendChild(forecastItem);
            });
        }

        // ===================== UTILITY FUNCTIONS =====================
        /**
         * Get emoji icon for weather condition
         * @param {string} condition - Weather condition string
         * @returns {string} Emoji icon
         */
        function getWeatherIcon(condition) {
            const iconMap = {
                'Clear': '‚òÄÔ∏è',
                'Clouds': '‚òÅÔ∏è',
                'Rain': 'üåßÔ∏è',
                'Drizzle': 'üå¶Ô∏è',
                'Thunderstorm': '‚õàÔ∏è',
                'Snow': '‚ùÑÔ∏è',
                'Mist': 'üå´Ô∏è',
                'Smoke': 'üí®',
                'Haze': 'üå•Ô∏è',
                'Dust': 'üå™Ô∏è',
                'Fog': 'üå´Ô∏è',
                'Sand': 'üå™Ô∏è',
                'Ash': 'üåã',
                'Squall': 'üí®',
                'Tornado': 'üå™Ô∏è'
            };
            return iconMap[condition] || 'üå§Ô∏è';
        }

        /**
         * Update weather animation based on current conditions
         */
        function updateWeatherAnimation() {
            if (!currentWeatherData) return;

            const condition = currentWeatherData.weather[0].main.toLowerCase();

            // Determine animation type based on weather condition
            if (condition.includes('rain') || condition.includes('drizzle')) {
                weatherCondition = 'rain';
            } else if (condition.includes('cloud')) {
                weatherCondition = 'clouds';
            } else if (condition.includes('snow')) {
                weatherCondition = 'snow';
            } else if (condition.includes('clear') || condition.includes('sunny')) {
                weatherCondition = 'sun';
            } else {
                weatherCondition = 'clear';
            }
        }

        // ===================== LOCATION MANAGEMENT =====================
        /**
         * Load saved locations from localStorage
         */
        function loadSavedLocations() {
            const stored = localStorage.getItem('savedLocations');
            if (stored) {
                savedLocations = JSON.parse(stored);
                displaySavedLocations();
            }
        }

        /**
         * Save locations to localStorage
         */
        function saveLocs() {
            localStorage.setItem('savedLocations', JSON.stringify(savedLocations));
        }

        /**
         * Add a new location to saved locations
         */
        function addLocation() {
            const input = document.getElementById('newLocationInput');
            const locationName = input.value.trim();

            if (!locationName) {
                alert('Please enter a city name');
                return;
            }

            // Check if location already exists
            if (savedLocations.some(loc => loc.toLowerCase() === locationName.toLowerCase())) {
                alert('This location is already saved');
                return;
            }

            // Add location and save
            savedLocations.push(locationName);
            saveLocs();
            displaySavedLocations();
            input.value = '';
        }

        /**
         * Handle Enter key press in location input
         */
        function handleLocationKeypress(event) {
            if (event.key === 'Enter') {
                addLocation();
            }
        }

        /**
         * Display saved locations list
         */
        function displaySavedLocations() {
            const container = document.getElementById('savedLocations');
            
            if (savedLocations.length === 0) {
                container.innerHTML = '<div style="grid-column: 1 / -1; padding: 20px; text-align: center; color: var(--text-secondary);">No locations saved yet. Add your first location above!</div>';
                return;
            }

            container.innerHTML = '';
            savedLocations.forEach(location => {
                const card = document.createElement('div');
                card.className = 'location-card';
                card.innerHTML = `
                    <div style="display: flex; gap: 10px; align-items: center; justify-content: space-between;">
                        <div style="flex: 1; cursor: pointer;" onclick="searchCityByName('${location}'); switchTab('dashboard')">
                            <div class="location-card-title">${location}</div>
                            <div class="location-card-coord">Saved location</div>
                        </div>
                        <button onclick="removeLocation('${location}')" title="Remove" style="background: rgba(255, 76, 76, 0.2); border: 1px solid rgba(255, 76, 76, 0.3); color: #ff6b6b; width: 32px; height: 32px; border-radius: 6px; cursor: pointer; font-weight: bold; transition: all 0.3s ease;">‚úï</button>
                    </div>
                `;
                container.appendChild(card);
            });
        }

        /**
         * Remove a location from saved locations
         * @param {string} location - Location to remove
         */
        function removeLocation(location) {
            savedLocations = savedLocations.filter(loc => loc !== location);
            saveLocs();
            displaySavedLocations();
        }

        // ===================== SETTINGS MANAGEMENT =====================
        /**
         * Toggle a setting option
         */
        function toggleSetting(element) {
            element.classList.toggle('active');
        }

        /**
         * Reset all settings to defaults
         */
        function resetSettings() {
            if (confirm('Are you sure you want to reset all settings to their default values?')) {
                // Reset all toggles to active (default state)
                const toggles = document.querySelectorAll('.toggle-switch');
                // First four should be active, next two based on default
                toggles.forEach((toggle, index) => {
                    if (index < 5) {
                        toggle.classList.add('active');
                    } else {
                        toggle.classList.remove('active');
                    }
                });
                alert('Settings have been reset to defaults');
            }
        }

        // ===================== CLEANUP =====================
        /**
         * Cleanup on page unload
         */
        window.addEventListener('beforeunload', () => {
            if (animationFrameId) {
                cancelAnimationFrame(animationFrameId);
            }
        });
    </script>
</body>
</html>
